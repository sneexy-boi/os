---
# yaml-language-server: $schema=https://schema.blue-build.org/recipe-v1.json

# mazurek - a custom fedora image using niri as the window manager.
# based on the works of this PR (https://github.com/wayblueorg/wayblue/pull/155) for making niri a wayblue image
# maybe at some point i'll just base this config off their image. or not. :]]

name: mazurek
description: sneexy's personal and opinionated fedora niri image

# the base image to build on top of (FROM) and the version tag to use
base-image: quay.io/fedora-ostree-desktops/base-atomic
image-version: latest # latest is also supported if you want new updates ASAP

modules:
  - type: bling
    install:
      - dconf-update-service

  - from-file: common/dnf.yml
  - from-file: common/dnf.yml

  - from-file: common/mazurek/dnf.yml
  - from-file: common/mpd.yml

  - type: script
    scripts:
      - ld.sh
      - sddm-astronaut-theme.sh
      - catppuccin-plasma-install.sh
      - papirus.sh
      - papirus-catppuccin.sh
      - posy-cursors.sh
      - vscodium.sh
      - zen-browser.sh
      - lazyvim.sh
      - moonlight-launcher.sh
      - flac2opus.sh
      - just.sh

  - type: files
    files:
      - source: system/mazurek
        destination: /

  - from-file: common/flatpaks.yml
  - from-file: common/fonts.yml

  - type: signing